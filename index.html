<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="shortcut icon" href="images/dunun_small.gif" type="image/gif">
    <style>
        #RhythmList li {
            cursor: pointer;
        }

            #RhythmList li:hover {
                text-decoration: underline;
            }

        #leftPanel {
            width: 250px;
        }

        #detailsPanel {
            float: left;
            width: 600px;
        }

        .inner {
            width: 860px;
            margin: 0 auto;
        }

        .clearfix:before,
        .clearfix:after {
            content: " ";
            display: table;
        }

        .clearfix:after {
            clear: both;
        }

        .clearfix {
            *zoom: 1;
        }
    </style>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="rhythms.js" type="text/javascript"></script>
    <title>Dununfola</title>
</head>

<body>
    <div id="container">
        <div class="inner">

            <header>
                <h1>Dununfola</h1>
                <h2>Site to host musical digital content related to West African drumming.</h2>
            </header>

            <hr>
            <section id="main_content">
                <h3>
                    <a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a>Welcome to Dununfola.com</h3>

                <p>Listed below is a subset of rhythms for which we're compiling audio and <a href="http://www.moosware.net/PercussionStudio/" target="_blank">Percussion Studio</a> files to help you learn and practice West African drumming.</p>
            
                <p><strong>Click on a rhythm on the left to see any audio, Percussion Studio, videos or notes for that rhythm.</strong></p>
            </section>
            <div id="wrapper" class="clearfix">
                <section id="leftPanel" style="float: left;">
                    <h3>
                        <a name="Rhythms" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>Rhythms</h3>

                    <p></p>
                    <ul id="RhythmList">
                    </ul>
                    <p></p>
                </section>
                <section id="detailsPanel">
                </section>
            </div>

            <footer>
                Dununfola is maintained by <a href="https://github.com/apollolm">apollolm</a><br>
                This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
            </footer>


        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $.each(rhythms, function (idx, item) {
                //Write out rhythm to ul
                var li = $("<li>" + idx + "</li>").appendTo($("#RhythmList"));


                li.on('click', function (evt) {
                    //When clicked on, empty the contents panel and fill it out with the clicked on stuff.
                    $("#detailsPanel").empty();

                    $.each(item, function (section, contents) {
                        if (contents && contents.length > 0) {
                            //Write Header
                            $("#detailsPanel").append("<h3>" + section + "</h3>");
                            $("#detailsPanel").append("<ul id='" + section + "'></ul>");

                            //Then write Content
                            $.each(contents, function (cidx, citem) {
                                if (section == "videos" || section == "notes") {
                                    //Embed HTML video
                                    $("#detailsPanel").append($(citem));
                                }
                                
                                else {
                                    //Write a li
                                    $("<li><a href='" + section + "/" + citem + "' target='_blank'>" + citem + "</a></li>").appendTo($("#" + section));
                                }
                            });
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
